<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>COVID-19 Tracker</title>
    <link rel="shortcut icon" href="images/title.png" >
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script language="Javascript" src="jquery.js"></script>
    <script type="text/JavaScript" src='state.js'></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <style>
    .nav-link{
        font-size: 30px;
    }
    html,body{
        height: 100%;

    }
   
    .list-group-item{
        font-size:20px; 
    }

    @media (max-width: 1025px)  {
    .list-group-item{
        font-size:15px; 
    }
}


    @media (min-width: 1025px)  {
    #card1{
        margin: 0 auto;
        width:40% 
    }
    #header{
        font-size:30px;
    }
}

 @media (max-width: 1025px)  {
    #card1{
        margin: 0 auto;
        width:90% 
    }
}

     @media (max-width: 1025px)  {
    .card{
        margin: 0 auto;
    }
    p{
          font-size: 30px;
      }
    ul{
        font-size:30px;
    }
    li{
        font-size:50px;
    }
    .list-group-item{
        font-size:40px; 
    }
    #header{
        font-size:50px;
    }

     #selec1{
        font-size:40px;
    }

   
   
}

    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-success">
            <a class="navbar-brand" href="index.html"><img src="images/logo.png" width="100px",height="100px"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="nationwise.html">Nationwide<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="date.html">Datewise</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="statewise.html">Statewide</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link disabled" href="resources.html">Info/Resources</a>
                </li>
                </ul>
                <form class="form-inline my-2 my-lg-0">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                                About
                        </button>
                </form>
            </div>
    </nav> <!-- End of navigation section-->
    <div class="container align-items-center" id="date_form">
            <label for="listBox" class="col-form-label" ><span style="color:green;"id="selec1"><b>Select state</b></span></label>
            <select id="listBox" class="browser-default custom-select custom-select-lg mb-3"></select>
            <br>
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit" onclick="getInfo();">Find resources</button>
    </div>
    <section class="h-100" id="sc"></section> 
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel"><b>How to use the website!!!</b></h5>
                    </div>
                    <div class="modal-body">
                        <p>
                            The website is divided into five sections. <b>Home</b> section contains some basic information about the infection,
                            its symptoms and prevention. All these informations are collected <b>WHO</b> official website. The second setion is <b>Nationwide</b>
                            section, which provides tracking information of the infection spread all over the country.The third section is <b>Datewise</b>
                            section, which provides user an interactive datepicker from which they can pick a particular date
                            and get to know about the status of infection on that particular timeframe.The fourth section is <b>Statewide</b> section, which
                            provides user an interactive state and district picker from where they can get to know about the status of virus 
                            in a particular state or district.The last section<b>Info/Resources</b> section which provides an interactive 
                            dashboard for user to know information about all the help and resources provided by governement and non-government organization in their state
                            or city. All these sections can be seamlessly navigated from one another using the navigation bar provided at the top of each seaction.
                        
                        </p>
                    </div>
                <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel"><b>About the developer!!!</b></h5>
                </div>
                <div class="modal-body">
                    <p><b>This website is designed and developed by Alok kumar</b></p>
                    <center><img src="images/self.jpg" height="300px",widht:"300px"></center>
                    <p><b>About me: Nothing much just a coder who loves to code!!!</b></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                </div>
        </div>
        </div>
    
    
    
    <script>
        document.getElementById("sc").style.visibility = "hidden";
        var category;
        var website;
        var service_provided;
        var name_of_organisation;
        var phone_number;
        var daily_recovered;
        var state;
            
        function getInfo(){
            var state = document.getElementById("listBox").value;
            if (state === "SELECT STATE"){
                alert("Selection of state is compulsory before proceeding further!!!")
                return
            } 
                $.ajax({
                type: "GET",
                url: 'https://api.covid19india.org/resources/resources.json',
                success: function (response) {
                    data = response;
                    var flag = 0
                    var len = data.resources.length
                    var htmlElements = "";
                    for(i=0;i<len;i++){
                        if (data.resources[i]["state"].includes(state)){
                            var parsed_data = data.resources[i]
                            flag = 1
                            htmlElements += '<br><div class="card" id="card1"><div class="card-header bg-info" > <center><span style="color:white;"id="header">'+parsed_data["category"]+' </span></center> </div><ul class="list-group list-group-flush "> <li class="list-group-item"><b>State: '+parsed_data["state"]+'</b><span id="8" ></span></li> <li class="list-group-item"><b>City: '+parsed_data["city"]+'</b><span id="9" ></span></li><li class="list-group-item"><b>Website: '+parsed_data["contact"]+' </b><span id="7" ></span></li><li class="list-group-item"><b>Service Provided: '+parsed_data["descriptionandorserviceprovided"]+' </b><span id="1" ></span></li><li class="list-group-item"><b>Name of organisation: '+parsed_data["nameoftheorganisation"]+'</b><span id="2" ></span></li><li class="list-group-item"><b>Phone number: '+parsed_data["phonenumber"]+'</b><span id="3" ></span></li></ul></div><br>'   
                        }
                    }
                    if (flag===0){
                        document.getElementById("sc").style.visibility = "hidden";
                        alert("Eithere there are no cases of Covid-19 in this state or data not available for this state!!!");
                        return 
                    }
                    var container =  document.getElementById("sc")
                    container.innerHTML = htmlElements;
                    container.style.visibility = "visible";
                
                }
            });
        
            return
        
    } 
    
    function search() { 
    let input = document.getElementById('searchbar').value 
    input=input.toLowerCase(); 
    let x = document.getElementsByClassName('list-group'); 
      
    for (i = 0; i < x.length; i++) {  
        if (!x[i].innerHTML.toLowerCase().includes(input)) { 
            x[i].style.display="none"; 
        } 
        else { 
            x[i].style.display="list-item";                  
        } 
    } 
}
    </script>
</body>
</html>
